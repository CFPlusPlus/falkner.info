/* Tailwind CSS v4 liest die tailwind.config.* nur dann, wenn sie explizit eingebunden wird.
   Damit Utilities wie `bg-bg`, `text-muted` etc. (aus unserem Theme) weiterhin funktionieren,
   referenzieren wir hier die Config.
*/
@config "../../tailwind.config.mjs";

@import "tailwindcss";

:root {
  /* Standard: Dark Mode */
  color-scheme: dark;

  /* Neutrale Basis */
  --bg: 255 19% 5%;
  --surface: 252 21% 8%;
  --border: 255 18% 18%;
  --text: 0 0% 98%;
  --muted: 250 12% 72%;

  /* Akzent (warm, leicht goldig) */
  --accent: 28 100% 66%;
  --accent2: 28 100% 76%;

  /* Typography */
  --font-sans:
    "Geist Sans", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial,
    "Noto Sans", sans-serif;
  --font-display:
    "Space Grotesk Variable", "Space Grotesk", "Geist Sans", ui-sans-serif,
    system-ui, -apple-system, "Segoe UI", Arial, "Noto Sans", sans-serif;

  /* Design-Tokens (zentral steuerbar) */
  --w-body: 300;
  --w-title: 420;
  --w-strong: 500;

  /* Spacing: eher luftiger, Layout bleibt gleich */
  --space-section-y: 4.25rem; /* ~68px */
  --space-section-y-sm: 5.25rem; /* ~84px */
  --space-section-gap: 2.75rem; /* ~44px */
}

/* Sanftes Scrollen für Ankerlinks (respektiert Reduced Motion) */
html {
  scroll-behavior: smooth;
}
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Besseres Scroll-Offset unter der sticky Navbar */
[id] {
  scroll-margin-top: 96px;
}

body {
  @apply min-h-screen bg-bg text-text antialiased;
  font-family: var(--font-sans);
  /* 300 wirkt deutlich cleaner als 400 (Inter-Standard) */
  font-weight: var(--w-body);
  text-rendering: geometricPrecision;
}

/* Strong-Text etwas dezenter, damit die Typo clean bleibt */
strong {
  font-weight: var(--w-strong);
}

/* Headlines etwas "editorialer" */
h1,
h2,
h3,
h4,
.font-display {
  font-family: var(--font-display);
  letter-spacing: -0.02em;
}

::selection {
  background: hsl(var(--accent) / 0.25);
}

a {
  @apply outline-none;
}

:focus-visible {
  outline: 2px solid hsl(var(--accent) / 0.7);
  outline-offset: 3px;
}

/* Dezentes Grain-Overlay */
.grain {
  pointer-events: none;
  position: fixed;
  inset: 0;
  opacity: 0.06;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
  background-size: 160px 160px;
}

/* Kleine Helfer-Klasse für Meta-Text */
.meta {
  @apply text-xs tracking-[0.14em] uppercase text-muted;
}

/* --- Subtile Bewegung, die trotzdem "editorial" wirkt --- */
@media (prefers-reduced-motion: no-preference) {
  .blob-float-a {
    animation: blob-float 14s ease-in-out infinite;
  }
  .blob-float-b {
    animation: blob-float 18s ease-in-out infinite reverse;
  }
  .blob-float-c {
    animation: blob-float 22s ease-in-out infinite;
  }
}
@keyframes blob-float {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(10px, -14px, 0) scale(1.03);
  }
}

/* --- Scroll-Reveal (JS-optimiert, aber ohne JS trotzdem ok) --- */
html[data-js="true"] .reveal {
  opacity: 0;
  transform: translate3d(0, 10px, 0);
  filter: blur(2px);
  transition:
    opacity 650ms cubic-bezier(0.2, 0.8, 0.2, 1),
    transform 650ms cubic-bezier(0.2, 0.8, 0.2, 1),
    filter 650ms cubic-bezier(0.2, 0.8, 0.2, 1);
  transition-delay: var(--reveal-delay, 0ms);
  will-change: opacity, transform, filter;
}

html[data-js="true"] .reveal.is-in {
  opacity: 1;
  transform: translate3d(0, 0, 0);
  filter: blur(0);
}

@media (prefers-reduced-motion: reduce) {
  html[data-js="true"] .reveal {
    opacity: 1;
    transform: none;
    filter: none;
    transition: none;
  }
}

/* --- Utilities --- */

/* Scrollbars ausblenden, aber Scrollen beibehalten (z. B. für Carousels) */
.no-scrollbar {
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none; /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

/* Hintergrund-Scroll sperren, wenn ein Modal offen ist */
body[data-scroll-lock="true"] {
  overflow: hidden;
}
