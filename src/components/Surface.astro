---
/**
 * Surface
 * Ein kleines Primitive für "Glass/Surface"-Container.
 * Ziel: Border/Background/Shadow zentral halten, ohne das Layout zu verändern.
 */


type Variant =
  | "panel"
  | "soft"
  | "glass"
  | "softBlur"
  | "softBlurFlat"
  | "control"
  | "overlayControl";


type Props = {
  /** HTML-Tag (z. B. div, article, button, a, ...). */
  as?: string;
  /** Optische Variante. */
  variant?: Variant;
  /** Zusätzliche Klassen. */
  class?: string;
} & Record<string, any>;

const { as: Tag = "div", variant = "panel", class: className = "", ...rest } = Astro.props as Props;


const VARIANTS: Record<Variant, string> = {
  // Standard-Panel (wie bisher bei großen Cards)
  panel: "rounded-[var(--r-card)] border border-border/70 bg-surface/50 backdrop-blur-sm shadow-soft",
  // Etwas flacher, ohne Blur (z. B. Gallery-Thumbnails)
  soft: "rounded-[var(--r-card)] border border-border/70 bg-surface/40 shadow-soft",
  // Modal/Lightbox-Panel
  glass: "rounded-[var(--r-card)] border border-border/70 bg-surface/55 backdrop-blur shadow-soft",
  // Häufige Karten-Variante mit leichterem Hintergrund + Blur
  softBlur: "rounded-[var(--r-card)] border border-border/70 bg-surface/40 backdrop-blur-sm shadow-soft",
  // Wie softBlur, aber ohne Shadow (z. B. Contact-Mail-Box)
  softBlurFlat: "rounded-[var(--r-card)] border border-border/70 bg-surface/40 backdrop-blur-sm",
  // Kleine Controls (Pfeile/Buttons in der Galerie)
  control: "rounded-[var(--r-card)] border border-border/70 bg-surface/30 hover:bg-surface/45 transition",
  // Controls über dunklem Bild (Lightbox Prev/Next)
  overlayControl: "rounded-[var(--r-card)] border border-border/70 bg-bg/35 backdrop-blur hover:bg-bg/55 transition",
};

const classes = `${VARIANTS[variant]} ${className}`.trim();
---

<Tag class={classes} {...rest}>
  <slot />
</Tag>
