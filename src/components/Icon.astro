---
/**
 * Icon component (Tabler Icons Webfont)
 */

// Map unserer semantischen Namen -> Tabler Icon Names
const TABLER: Record<string, string> = {
  external: "external-link",
  arrowUpRight: "arrow-up-right",
  arrowRight: "arrow-right",
  mail: "mail",
  copy: "copy",
  check: "check",

  // Brand icons
  github: "brand-github",
  linkedin: "brand-linkedin",
  discord: "brand-discord",
  steam: "brand-steam",
  xbox: "brand-xbox",

  // UI / hobby icons
  controller: "device-gamepad-2",
  gamepad: "device-gamepad-2",
  cpu: "cpu",
  mountain: "mountain",

  // used for "Minecraft" tag on the page
  pickaxe: "brand-minecraft",
};

type Props = {
  /** gemappter Name (z.B. "xbox") ODER roher Tabler-Name (z.B. "brand-xbox") */
  name: string;
  size?: number;
  class?: string;
  label?: string;
};

const { name, size = 18, class: className = "", label } = Astro.props as Props;

// erlaubt: gemappte Namen ("xbox") ODER raw Tabler Name ("brand-xbox")
const icon = TABLER[name] ?? name;

const cls = `ti ti-${icon} inline-block align-[-0.125em] leading-none ${className}`.trim();
const style = `font-size:${size}px; line-height:1;`;
const cls = `ti ti-${icon} inline-block align-[-0.125em] leading-none ${className}`.trim();
const style = `font-size:${size}px; line-height:1;`;
---

<i
  class={cls}
  style={style}
  {...(label ? { role: "img", "aria-label": label } : { "aria-hidden": "true" })}
/>

<i
  class={cls}
  style={style}
  {...(label ? { role: "img", "aria-label": label } : { "aria-hidden": "true" })}
/>
