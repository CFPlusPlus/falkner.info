---
type Props = {
  /** Minecraft Java Server-Adresse (hostname[:port]) */
  address: string;
  /** Optionaler Text oberhalb der Anzeige */
  label?: string;
};

const { address, label = "Spieler online" } = Astro.props as Props;

// API-Doku: https://api.mcsrvstat.us (Version 3)
const apiUrl = `https://api.mcsrvstat.us/3/${address}`;
---

<div class="space-y-1" data-mc-status data-api-url={apiUrl}>
  <div class="meta">{label}</div>
  <div
    class="flex items-center gap-2"
    role="status"
    aria-live="polite"
    aria-atomic="true"
  >
    <span data-mc-dot aria-hidden="true" class="h-2 w-2 rounded-full bg-border"></span>
    <span data-mc-value class="tabular-nums text-text">â€¦</span>
    <span data-mc-text class="text-muted text-xs">wird geladen</span>
  </div>
</div>
